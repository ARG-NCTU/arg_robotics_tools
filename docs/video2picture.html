---

title: video2picture


keywords: fastai
sidebar: home_sidebar

summary: "This notebook is a function for getting image from video.notebook below have two part: function part and example part."
description: "This notebook is a function for getting image from video.notebook below have two part: function part and example part."
nb_path: "02_video2picture.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_video2picture.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Function-define-part">Function define part<a class="anchor-link" href="#Function-define-part"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">gdown_unzip</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;download a zipfile and unzip it under data directory</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dataset_url</span> <span class="o">=</span> <span class="s1">&#39;https://drive.google.com/u/1/uc?id=&#39;</span> <span class="o">+</span> <span class="nb">id</span>
    <span class="n">dataset_name</span> <span class="o">=</span> <span class="n">filename</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dataset_name</span><span class="p">):</span>
        <span class="n">gdown</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">dataset_url</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="n">dataset_name</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">zip_file</span> <span class="o">=</span> <span class="n">ZipFile</span><span class="p">(</span> <span class="n">dataset_name</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span><span class="p">)</span>
        <span class="c1">#zip_file.extractall()</span>
        <span class="n">zip_file</span><span class="o">.</span><span class="n">extractall</span><span class="p">()</span> <span class="c1"># depends on how to zip it</span>
        <span class="n">zip_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_images_from_video" class="doc_header"><code>get_images_from_video</code><a href="https://github.com/ARG-NCTU/arg_robotics_tools/tree/master/arg_robotics_tools/video2picture.py#L14" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_images_from_video</code>(<strong><code>video_name</code></strong>, <strong><code>time_F</code></strong>)</p>
</blockquote>
<p>open and read video,then save the images of video depending on the parameter(time_F) you setup.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Testing-example">Testing example<a class="anchor-link" href="#Testing-example"> </a></h1><p>we will move to 'data' directory to start all examples, this directory have been added to '.gitignoe' , so is convenient to test in local and light in cloud</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span> <span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/arg/arg_robotics_tools/data
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="gdown_unzip(id,-filename)">gdown_unzip(id, filename)<a class="anchor-link" href="#gdown_unzip(id,-filename)"> </a></h2><p>id is the google drive id, filename is your filename in google drive (should be a .zip file )</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1YVXSOUB9sb1hCD64oLZtTJrSIdZqTetQ&#39;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;wamv_5_16&#39;</span>
<span class="n">gdown_unzip</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Finished downloading.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Downloading...
From: https://drive.google.com/u/1/uc?id=1YVXSOUB9sb1hCD64oLZtTJrSIdZqTetQ
To: /home/arg/arg_robotics_tools/data/wamv_5_16.zip
100%|███████████████████████████████████████████████████████████████████████████████████| 138M/138M [00:13&lt;00:00, 10.3MB/s]
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
 Finished downloading.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Create-file-'output'">Create file 'output'<a class="anchor-link" href="#Create-file-'output'"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mkdir</span> <span class="n">output</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="function-calling">function calling<a class="anchor-link" href="#function-calling"> </a></h3><p>we can simply call get_images_from_video to get the images.
<br>
input: time_F,  video
<br>
output: images capture from the video
<br>
time_F can change the number of output image</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">time_F</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">video_name</span> <span class="o">=</span> <span class="s1">&#39;wamv_5_16.mp4&#39;</span> 
<span class="n">video_images</span> <span class="o">=</span> <span class="n">get_images_from_video</span><span class="p">(</span><span class="n">video_name</span><span class="p">,</span> <span class="n">time_F</span><span class="p">)</span> 
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">video_images</span><span class="p">)):</span> 
    <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s1">&#39;/home/arg/arg_robotics_tools/data/output/</span><span class="si">%d</span><span class="s1">out.jpg&#39;</span><span class="o">%</span><span class="k">i</span>,video_images[i])

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Finished.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
 Finished.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>


